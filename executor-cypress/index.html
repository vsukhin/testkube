
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Your Kubernetes Testing Friend">
      
      
        <meta name="author" content="Kubeshop testkube Team">
      
      
      <link rel="icon" href="../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.1.2">
    
    
      
        <title>Cypress Tests - TestKube</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.f7951f6f.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.e6a45f82.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-204665550-6","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),"undefined"!=typeof location$&&location$.subscribe(function(e){ga("send","pageview",e.pathname)})})</script>
  <script async src="https://www.google-analytics.com/analytics.js"></script>


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#cypress-tests" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="TestKube" class="md-header__button md-logo" aria-label="TestKube" data-md-component="logo">
      
  <img src="../img/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            TestKube
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Cypress Tests
            
          </span>
        </div>
      </div>
    </div>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/kubeshop/testkube/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    kubeshop/testkube
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="TestKube" class="md-nav__button md-logo" aria-label="TestKube" data-md-component="logo">
      
  <img src="../img/logo.png" alt="logo">

    </a>
    TestKube
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/kubeshop/testkube/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    kubeshop/testkube
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Welcome
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../installing/" class="md-nav__link">
        Installation
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Managing test scripts
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Managing test scripts" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Managing test scripts
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../scripts-creating/" class="md-nav__link">
        Creating
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../scripts-running/" class="md-nav__link">
        Running
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../scripts-getting-results/" class="md-nav__link">
        Getting results
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../executor-postman/" class="md-nav__link">
        Postman Collections
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Cypress Tests
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Cypress Tests
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#creating-new-test" class="md-nav__link">
    Creating new test
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-testkube-test-script" class="md-nav__link">
    Creating testkube test script
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#starting-test" class="md-nav__link">
    Starting test
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-execution-results" class="md-nav__link">
    Getting execution results
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-parameters" class="md-nav__link">
    Adding parameters
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    Summary
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../executor-curl/" class="md-nav__link">
        Curl Commands
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" data-md-state="indeterminate" type="checkbox" id="__nav_5" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Executors
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Executors" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Executors
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../executor-custom/" class="md-nav__link">
        Creating custom executor
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" data-md-state="indeterminate" type="checkbox" id="__nav_6" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          CLI Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="CLI Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          CLI Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/testkube/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/testkube_install/" class="md-nav__link">
        Install Cmd
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/testkube_scripts/" class="md-nav__link">
        Scripts Cmd
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli/testkube_dashboard/" class="md-nav__link">
        Dashboard Cmd
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../testkube-automation/" class="md-nav__link">
        Integrating with CI/CD
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../dashboard/" class="md-nav__link">
        Dashboard
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../metrics/" class="md-nav__link">
        Metrics
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../architecture/" class="md-nav__link">
        Architecture
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../contributing/" class="md-nav__link">
        Contributing
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../development/" class="md-nav__link">
        Development
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../openapi/" class="md-nav__link">
        OpenAPI definition
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../telemetry/" class="md-nav__link">
        Telemetry
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../artifacts-storage/" class="md-nav__link">
        Storage
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#creating-new-test" class="md-nav__link">
    Creating new test
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-testkube-test-script" class="md-nav__link">
    Creating testkube test script
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#starting-test" class="md-nav__link">
    Starting test
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-execution-results" class="md-nav__link">
    Getting execution results
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-parameters" class="md-nav__link">
    Adding parameters
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    Summary
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
<a href="https://github.com/kubeshop/testkube/blob/main/docs/executor-cypress.md" title="Edit this page" class="md-content__button md-icon">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
</a>


<h1 id="cypress-tests">Cypress Tests</h1>
<p>TestKube is able to make simple runs of Cypress tests. As Cypress is organised in projects we allow to define your tests in Github repository (for now only public one is implemented).</p>
<p>To create new cypress test you need some Git repository with example cypress project (please follow Cypress docs for details - <a href="https://docs.cypress.io/guides/dashboard/projects">https://docs.cypress.io/guides/dashboard/projects</a>)</p>
<h2 id="creating-new-test">Creating new test</h2>
<p>Let's assume we've created one in <a href="https://github.com/kubeshop/testkube-executor-cypress/tree/main/examples">https://github.com/kubeshop/testkube-executor-cypress/tree/main/examples</a>
which contains really simple test which checks if some string exists on web site, we'll also check
if env parameter exists - to show how to pass additional parameters into test.</p>
<p><a href="https://github.com/kubeshop/testkube-executor-cypress/blob/main/examples/cypress/integration/simple-test.js">https://github.com/kubeshop/testkube-executor-cypress/blob/main/examples/cypress/integration/simple-test.js</a></p>
<div class="highlight"><pre><span></span><code><span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;The Home Page&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;successfully loads&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">cy</span><span class="p">.</span><span class="nx">visit</span><span class="p">(</span><span class="s1">&#39;https://testkube.io&#39;</span><span class="p">)</span> 

    <span class="nx">expect</span><span class="p">(</span><span class="nx">Cypress</span><span class="p">.</span><span class="nx">env</span><span class="p">(</span><span class="s1">&#39;testparam&#39;</span><span class="p">)).</span><span class="nx">to</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="s1">&#39;testvalue&#39;</span><span class="p">)</span>

    <span class="nx">cy</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span><span class="s1">&#39;Efficient testing of k8s applications&#39;</span><span class="p">)</span>
  <span class="p">})</span>
<span class="p">})</span>
</code></pre></div>
<h2 id="creating-testkube-test-script">Creating <code>testkube</code> test script</h2>
<p>Now we need to create TestKube test script from this example (we need to pass repo, branch, path where project exists - in case of mono repo, name and type)</p>
<div class="highlight"><pre><span></span><code>kubectl testkube scripts create --uri https://github.com/kubeshop/testkube-executor-cypress.git --git-branch main --git-path examples --name kubeshop-cypress --type cypress/project
</code></pre></div>
<p>We can check that script is created with:</p>
<div class="highlight"><pre><span></span><code>kubectl get scripts 
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>NAME                  AGE
kubeshop-cypress      51s
</code></pre></div>
<h2 id="starting-test">Starting test</h2>
<p>Now we can start our test</p>
<div class="highlight"><pre><span></span><code>kubectl testkube scripts start kubeshop-cypress
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>████████ ███████ ███████ ████████ ██   ██ ██    ██ ██████  ███████ 
   ██    ██      ██         ██    ██  ██  ██    ██ ██   ██ ██      
   ██    █████   ███████    ██    █████   ██    ██ ██████  █████   
   ██    ██           ██    ██    ██  ██  ██    ██ ██   ██ ██      
   ██    ███████ ███████    ██    ██   ██  ██████  ██████  ███████ 
                                           /tɛst kjub/ by Kubeshop




Type          : cypress/project
Name          : kubeshop-cypress
Execution ID  : 615d5265b046f8fbd3d955d0
Execution name: wildly-popular-worm

Script queued <span class="k">for</span> execution
Use following <span class="nb">command</span> to get script execution details:
$ kubectl testkube scripts execution 615d5265b046f8fbd3d955d0

or watch script execution <span class="k">until</span> complete:
$ kubectl testkube scripts watch 615d5265b046f8fbd3d955d0
</code></pre></div>
<h2 id="getting-execution-results">Getting execution results</h2>
<p>Let's watch our script execution</p>
<div class="highlight"><pre><span></span><code>kubectl testkube scripts watch 615d43d3b046f8fbd3d955ca
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>Type          : cypress/project
Name          : cypress-example
Execution ID  : 615d43d3b046f8fbd3d955ca
Execution name: early-vast-turtle

Watching <span class="k">for</span> changes
Status: error, Duration: 1m16s

Getting results
Name: early-vast-turtle, Status: error, Duration: 1m16s
process error: <span class="nb">exit</span> status <span class="m">1</span>
output:
<span class="o">====================================================================================================</span>

  <span class="o">(</span>Run Starting<span class="o">)</span>

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    <span class="m">8</span>.3.0                                                                              │
  │ Browser:    Electron <span class="m">91</span> <span class="o">(</span>headless<span class="o">)</span>                                                             │
  │ Specs:      <span class="m">1</span> found <span class="o">(</span>simple-test.js<span class="o">)</span>                                                           │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────

  Running:  simple-test.js                                                                  <span class="o">(</span><span class="m">1</span> of <span class="m">1</span><span class="o">)</span>


  The Home Page
    <span class="m">1</span><span class="o">)</span> successfully loads


  <span class="m">0</span> passing <span class="o">(</span>2s<span class="o">)</span>
  <span class="m">1</span> failing

  <span class="m">1</span><span class="o">)</span> The Home Page
       successfully loads:
     AssertionError: expected undefined to equal <span class="s1">&#39;testvalue&#39;</span>
      at Context.eval <span class="o">(</span>http://localhost:34845/__cypress/tests?p<span class="o">=</span>cypress/integration/simple-test.js:102:41<span class="o">)</span>




  <span class="o">(</span>Results<span class="o">)</span>

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        <span class="m">1</span>                                                                                │
  │ Passing:      <span class="m">0</span>                                                                                │
  │ Failing:      <span class="m">1</span>                                                                                │
  │ Pending:      <span class="m">0</span>                                                                                │
  │ Skipped:      <span class="m">0</span>                                                                                │
  │ Screenshots:  <span class="m">1</span>                                                                                │
  │ Video:        <span class="nb">true</span>                                                                             │
  │ Duration:     <span class="m">2</span> seconds                                                                        │
  │ Spec Ran:     simple-test.js                                                                   │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


  <span class="o">(</span>Screenshots<span class="o">)</span>

  -  /tmp/testkube-scripts1127226423/repo/examples/cypress/screenshots/simple-test.js/     <span class="o">(</span>1280x720<span class="o">)</span>
     The Home Page -- successfully loads <span class="o">(</span>failed<span class="o">)</span>.png


  <span class="o">(</span>Video<span class="o">)</span>

  -  Started processing:  Compressing to <span class="m">32</span> CRF
    Compression progress:  <span class="m">35</span>%
  -  Finished processing: /tmp/testkube-scripts1127226423/repo/examples/cypress/videos   <span class="o">(</span><span class="m">19</span> seconds<span class="o">)</span>
                          /simple-test.js.mp4


<span class="o">====================================================================================================</span>

  <span class="o">(</span>Run Finished<span class="o">)</span>


       Spec                                              Tests  Passing  Failing  Pending  Skipped
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✖  simple-test.js                           <span class="m">00</span>:02        <span class="m">1</span>        -        <span class="m">1</span>        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    ✖  <span class="m">1</span> of <span class="m">1</span> failed <span class="o">(</span><span class="m">100</span>%<span class="o">)</span>                     <span class="m">00</span>:02        <span class="m">1</span>        -        <span class="m">1</span>        -        -



Script execution completed <span class="k">in</span> 1m17s
</code></pre></div>
<h2 id="adding-parameters">Adding parameters</h2>
<p>We can see that our test was failed because of  <code>AssertionError: expected undefined to equal 'testvalue'</code></p>
<p>We forgot to add test param - let's fix that! In our test we assume that param will have name <code>testparam</code> and its value will be <code>testvalue</code> - so let's add that.  </p>
<p>We can also add <code>-f</code> flag to follow execution (watch for changes) - for now we're only looking for test completion but in future we'll pipe test output in real time (ongoing features)</p>
<div class="highlight"><pre><span></span><code>kubectl testkube scripts start kubeshop-cypress -p <span class="nv">testparam</span><span class="o">=</span>testvalue -f
</code></pre></div>
<p>Output:</p>
<div class="highlight"><pre><span></span><code>████████ ███████ ███████ ████████ ██   ██ ██    ██ ██████  ███████ 
   ██    ██      ██         ██    ██  ██  ██    ██ ██   ██ ██      
   ██    █████   ███████    ██    █████   ██    ██ ██████  █████   
   ██    ██           ██    ██    ██  ██  ██    ██ ██   ██ ██      
   ██    ███████ ███████    ██    ██   ██  ██████  ██████  ███████ 
                                           /tɛst kjub/ by Kubeshop


Type          : cypress/project
Name          : kubeshop-cypress
Execution ID  : 615d5372b046f8fbd3d955d2
Execution name: nominally-able-glider

Script queued <span class="k">for</span> execution
Use following <span class="nb">command</span> to get script execution details:
$ kubectl testkube scripts execution 615d5372b046f8fbd3d955d2

or watch script execution <span class="k">until</span> complete:
$ kubectl testkube scripts watch 615d5372b046f8fbd3d955d2


Watching <span class="k">for</span> changes
Status: queued, Duration: 0s
Status: pending, Duration: <span class="m">383</span>.064ms
....
Status: pending, Duration: 1m45.405939s
Status: success, Duration: 1m45.405939s

Getting results
Name: nominally-able-glider, Status: success, Duration: 2562047h47m16.854775807s

<span class="o">====================================================================================================</span>

  <span class="o">(</span>Run Starting<span class="o">)</span>

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:    <span class="m">8</span>.5.0                                                                              │
  │ Browser:    Electron <span class="m">91</span> <span class="o">(</span>headless<span class="o">)</span>                                                             │
  │ Specs:      <span class="m">1</span> found <span class="o">(</span>simple-test.js<span class="o">)</span>                                                           │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────

  Running:  simple-test.js                                                                  <span class="o">(</span><span class="m">1</span> of <span class="m">1</span><span class="o">)</span>

  <span class="o">(</span>Results<span class="o">)</span>

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        <span class="m">1</span>                                                                                │
  │ Passing:      <span class="m">1</span>                                                                                │
  │ Failing:      <span class="m">0</span>                                                                                │
  │ Pending:      <span class="m">0</span>                                                                                │
  │ Skipped:      <span class="m">0</span>                                                                                │
  │ Screenshots:  <span class="m">0</span>                                                                                │
  │ Video:        <span class="nb">true</span>                                                                             │
  │ Duration:     <span class="m">19</span> seconds                                                                       │
  │ Spec Ran:     simple-test.js                                                                   │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


  <span class="o">(</span>Video<span class="o">)</span>

  -  Started processing:  Compressing to <span class="m">32</span> CRF
    Compression progress:  <span class="m">39</span>%
    Compression progress:  <span class="m">81</span>%
  -  Finished processing: /tmp/testkube-scripts531364188/repo/examples/cypress/videos/   <span class="o">(</span><span class="m">30</span> seconds<span class="o">)</span>
                          simple-test.js.mp4

    Compression progress:  <span class="m">100</span>%

<span class="o">====================================================================================================</span>

  <span class="o">(</span>Run Finished<span class="o">)</span>


       Spec                                              Tests  Passing  Failing  Pending  Skipped
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔  simple-test.js                           <span class="m">00</span>:19        <span class="m">1</span>        <span class="m">1</span>        -        -        - │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    ✔  All specs passed!                        <span class="m">00</span>:19        <span class="m">1</span>        <span class="m">1</span>        -        -        -

Use following <span class="nb">command</span> to get script execution details:
$ kubectl testkube scripts execution 615d5372b046f8fbd3d955d2

Script execution completed <span class="k">in</span> 1m45.405939s
</code></pre></div>
<h2 id="summary">Summary</h2>
<p>Our first test completed successfully! As we've seen above it's really easy to run Cypress tests with TestKube!</p>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../executor-postman/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Postman Collections" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Postman Collections
            </div>
          </div>
        </a>
      
      
        
        <a href="../executor-curl/" class="md-footer__link md-footer__link--next" aria-label="Next: Curl Commands" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Curl Commands
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2021 <a href="https://kubeshop.io">Kubeshop</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.expand"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.0bbba5b5.min.js"}</script>
    
    
      <script src="../assets/javascripts/bundle.649a939e.min.js"></script>
      
    
  </body>
</html>